{{ $number_of_replicas    := attr "rc/redis-slave/number" }}
{{ $container_name        := attr "rc/redis-slave/name" }}
{{ $container_image       := attr "rc/redis-slave/image" }}
{{ $container_version     := attr "rc/redis-slave/version" }}
{{ $container_port        := attr "rc/redis-slave/port" }}

apiVersion: v1
kind: ReplicationController
metadata:
  name: redis-slave
  labels:
    name: redis-slave
spec:
  replicas: {{ $number_of_replicas }}
  selector:
    name: redis-slave
  template:
    metadata:
      labels:
        name: redis-slave
    spec:
      containers:
      - name: {{ $container_name }}
        image: {{ $container_image }}:{{ $container_version }}
        ports:
        - containerPort: {{ $container_port }}
